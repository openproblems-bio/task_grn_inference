viash_version: 0.9.1

name: task_grn_inference
organization: openproblems-bio
version: dev

license: MIT
keywords: [ gene regulatory network, network inference ]

links:
  issue_tracker: https://github.com/openproblems-bio/task_grn_inference/issues
  repository: https://github.com/openproblems-bio/task_grn_inference
  docker_registry: ghcr.io

label: GRN Inference
summary: |
  Benchmarking GRN inference methods

description: |

  geneRNIB is a living benchmark platform for GRN inference. This platform provides curated datasets for GRN inference and evaluation, standardized evaluation protocols and metrics, computational infrastructure, and a dynamically updated leaderboard to track state-of-the-art methods. It runs novel GRNs in the cloud, offers competition scores, and stores them for future comparisons, reflecting new developments over time.

  The platform supports the integration of new inference methods, datasets and protocols. When a new feature is added, previously evaluated GRNs are re-assessed, and the leaderboard is updated accordingly. The aim is to evaluate both the accuracy and completeness of inferred GRNs. It is designed for both single-modality and multi-omics GRN inference. 
  
  In the current version, geneRNIB contains 11 inference methods including both single and multi-omics, 8 evalation metrics, and five datasets (OPSCA, Nakatake, Norman, Adamson, and Replogle). 
  
  See our publication for the details of methods. 
info:
  image: thumbnail.svg # todo: create a thumbnail
  test_resources:
    - type: s3
      path: s3://openproblems-data/resources_test/grn/inference_datasets/
      dest: resources_test/inference_datasets/
    - type: s3
      path: s3://openproblems-data/resources_test/grn/evaluation_datasets/
      dest: resources_test/evaluation_datasets/
    - type: s3
      path: s3://openproblems-data/resources_test/grn/prior/
      dest: resources_test/prior/
    - type: s3
      path: s3://openproblems-data/resources_test/grn/grn_models/
      dest: resources_test/grn_models/
  readme: |
    ## Installation

    You need to have Docker, Java, and Viash installed. Follow
    [these instructions](https://openproblems.bio/documentation/fundamentals/requirements)
    to install the required dependencies. 

    ## Download resources
    ```bash
    git clone git@github.com:openproblems-bio/task_grn_inference.git

    cd task_grn_inference
    
    # download resources 
    To interact with the framework, you should download the resources containing necessary inferene and evaluation datasets to get started.
    ```bash
    scripts/download_resources.sh
    ```

    ## Infer a GRN 
    
    To infer a GRN for a given dataset (e.g. `norman`) using simple Pearson correlation:
    ```bash
    viash run src/control_methods/pearson_corr/config.vsh.yaml -- \
              --rna resources/inference_datasets/norman_rna.h5ad --prediction output/net.h5ad
    ```

    ```bash
    ## Evaluate a GRN
    Once got the prediction for a given dataset, use the following code to obtain evaluation scores. 
    ```bash
    scripts/single_grn_evaluation.sh output/net.h5ad norman
    ```
    This will calculate and print the scores as well as output the scores into `output/score.h5ad`
  
    ## Add a method

    To add a method to the repository, follow the instructions in the `scripts/add_a_method.sh` script.


authors:
  - name: Jalil Nourisa
    roles: [ author ]
    info:
      github: janursa
      orcid: 0000-0002-7539-4396
  - name: Robrecht Cannoodt
    roles: [ author ]
    info:
      github: rcannood
      orcid: "0000-0003-3641-729X"
  - name: Antoine Passimier 
    roles: [ contributor ]
    info:
      github: AntoinePassemiers
  - name: Marco Stock
    roles: [ contributor ]
    info:
      github: stkmrc
  - name: Christian Arnold 
    roles: [ contributor ]
    info:
      github: chrarnold

config_mods: |
  .runners[.type == "nextflow"].config.labels := { lowmem : "memory = 20.Gb", midmem : "memory = 50.Gb", highmem : "memory = 100.Gb", lowcpu : "cpus = 5", midcpu : "cpus = 15", highcpu : "cpus = 30", lowtime : "time = 1.h", midtime : "time = 4.h", hightime : "time = 8.h", veryhightime : "time = 24.h" }

repositories:
  - name: openproblems
    type: github
    repo: openproblems-bio/openproblems
    tag: build/main